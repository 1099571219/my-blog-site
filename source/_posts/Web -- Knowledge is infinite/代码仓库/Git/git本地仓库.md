---
title: git本地仓库
categories: 
- [Web -- Knowledge is infinite,代码仓库,Git]
tag: 代码仓库
date: 2023-11-24
---
# git本地仓库
### git就是开启GitHub的钥匙
先配置完6行git才能开始使用git
详情百度git config 配置

---

#### git就是一个命令而已
Bash命令行里有很多命令
在git bash里面运行git
git解决了一个只有程序员会遇到的问题：版本控制

---

#### git init 初始化
git init 会创建.git目录 作用是容纳代码快照

git add 路径 选择哪些变动是需要提交的，路径可以是绝对路径、相对路径与 .和*
.gitignore文件的意思是写在的其中的文件名不需要提交  添加在VSCode中
描述哪些文件完全不需要提交的

git status 可以查看当前文件状态，是否添加至待提交行列中
git commit -m 版本名 可以提交内容到git存储库中，
git commit -v 版本名 可以在VSCode中进行版本提交，优势是可以查看哪里变动了，破事我们可以吧提交理由写的刚详细，用git commit -v写的更专业
git log 可以查看已经提交备份的版本情况

---

#### 想要多修改几次就
git add .
git commit -v

git reset --hard 版本号开头的参数 可以回滚到已经提交过的版本
git reflog 可以查看以前所有版本的记录

---

#### 严重注意
当一个文件处在git add 里待提交状态时，不能直接git reset --hard 如果回滚版本则处在提交状态的文件会直接消失（严重严重），不会影响到待提交状态外的文件

---

#### git branch
git branch x 可以创造平行时间线X 术语叫做 分支
git branch 可以基于当前commit创建一个新的时间线（分支）
我在哪个分支提交，代码就出现再哪个分支
#### git checkout
 用于切换另一个分支
当前目录有未提交的代码，只要跟另一个分支不冲突，就不需要理会
如果冲突了呢？可以使用通灵术git stash,也可以合并冲突
#### git merge 合并分支
发现冲突，在合并分支的时候，会得到conflict提示，使用 git status -sb 查看哪个/哪些文件冲突了
解决冲突
依次打开每个文件，搜索====四个等于号，在上下两个部分中选择要保留的代码
删除不用的代码，删除多余符号,
git add 对应文件
再次 git status -sb，解决下一个文件的冲突
直到没有冲突，运行 git commit （注意不需要加选项）
#### 总结：
分支可以合并
运行git merge x
合并完后删除无用的分支 git branch -d x

---

### 大总结：
每一个目录，运行了git init 就会出现.git目录，.git目录就是本地仓库，它不会重复复制相同的文件（优化），他可以支持多个分支
#### 一些细节	
git add 处理的是文件变化，删除文件后也需要 git add 删除的文件 然后 git status 查看删除状态  然后 git commit -v提交
### 其他：命令终端的一些组合和小功能
如果命令执行成功了，什么都不会提示
如果失败了，会提示error
成功返回0，失败返回非0
echo $? 会返回上一次执行后的返回值

---

```bash
rm 1.txt && echo 删除成功 
```
命令执行成功则返回删除成功
&&链接的命令只有在前面成功了才会执行后面

---

```bash
rm 1.txt ; echo 删除成功 
```
;不管前面执行成功或失败都能执行后面的命令

---

#### 命令组合
alt + . 可以把上个命令最后一个参数复制下来
```bash
chmod +x 
```
 +x就是加上可执行权限 （win可以不执行 mac必须加这句命令）

---

./文件名 执行文件内容
sh 文件名 执行文件内容sh的意思就是用bash执行这个文件

#### 添加脚本目录到系统变量PATH后，直接使用脚本名称便可执行，无需在开头再加./或sh或Chmod -x
